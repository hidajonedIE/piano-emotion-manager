{
  "version": "5",
  "dialect": "mysql",
  "id": "bb4aa8ad-67d6-431a-aa8d-bd9e9ab4d74d",
  "prevId": "afe6455a-6a08-43a5-8bce-aeb6aa468190",
  "tables": {
    "ai_usage_tracking": {
      "name": "ai_usage_tracking",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "feature": {
          "name": "feature",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tokensUsed": {
          "name": "tokensUsed",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        }
      },
      "indexes": {
        "idx_user_feature_month": {
          "name": "idx_user_feature_month",
          "columns": [
            "userId",
            "feature",
            "createdAt"
          ],
          "isUnique": false
        },
        "idx_created_at": {
          "name": "idx_created_at",
          "columns": [
            "createdAt"
          ],
          "isUnique": false
        },
        "idx_user_created": {
          "name": "idx_user_created",
          "columns": [
            "userId",
            "createdAt"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "alert_history": {
      "name": "alert_history",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "pianoId": {
          "name": "pianoId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientId": {
          "name": "clientId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "alertType": {
          "name": "alertType",
          "type": "enum('tuning','regulation','repair')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "priority": {
          "name": "priority",
          "type": "enum('urgent','pending','ok')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "daysSinceLastService": {
          "name": "daysSinceLastService",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('active','acknowledged','resolved','dismissed')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'active'"
        },
        "acknowledgedAt": {
          "name": "acknowledgedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "resolvedAt": {
          "name": "resolvedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "resolvedByServiceId": {
          "name": "resolvedByServiceId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_piano_status": {
          "name": "idx_piano_status",
          "columns": [
            "pianoId",
            "status"
          ],
          "isUnique": false
        },
        "idx_user_status": {
          "name": "idx_user_status",
          "columns": [
            "userId",
            "status"
          ],
          "isUnique": false
        },
        "idx_created": {
          "name": "idx_created",
          "columns": [
            "createdAt"
          ],
          "isUnique": false
        },
        "idx_priority": {
          "name": "idx_priority",
          "columns": [
            "priority"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "alert_history_pianoId_pianos_id_fk": {
          "name": "alert_history_pianoId_pianos_id_fk",
          "tableFrom": "alert_history",
          "tableTo": "pianos",
          "columnsFrom": [
            "pianoId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "alert_history_clientId_clients_id_fk": {
          "name": "alert_history_clientId_clients_id_fk",
          "tableFrom": "alert_history",
          "tableTo": "clients",
          "columnsFrom": [
            "clientId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "alert_history_partnerId_partners_id_fk": {
          "name": "alert_history_partnerId_partners_id_fk",
          "tableFrom": "alert_history",
          "tableTo": "partners",
          "columnsFrom": [
            "partnerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "alert_notifications": {
      "name": "alert_notifications",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "alertHistoryId": {
          "name": "alertHistoryId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "notificationType": {
          "name": "notificationType",
          "type": "enum('email','push','weekly_digest')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('pending','sent','failed','opened')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "sentAt": {
          "name": "sentAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "openedAt": {
          "name": "openedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "recipientEmail": {
          "name": "recipientEmail",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "subject": {
          "name": "subject",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "errorMessage": {
          "name": "errorMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_alert_type": {
          "name": "idx_alert_type",
          "columns": [
            "alertHistoryId",
            "notificationType"
          ],
          "isUnique": false
        },
        "idx_user_status": {
          "name": "idx_user_status",
          "columns": [
            "userId",
            "status"
          ],
          "isUnique": false
        },
        "idx_sent": {
          "name": "idx_sent",
          "columns": [
            "sentAt"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "alert_notifications_alertHistoryId_alert_history_id_fk": {
          "name": "alert_notifications_alertHistoryId_alert_history_id_fk",
          "tableFrom": "alert_notifications",
          "tableTo": "alert_history",
          "columnsFrom": [
            "alertHistoryId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "alert_settings": {
      "name": "alert_settings",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tuningPendingDays": {
          "name": "tuningPendingDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 180
        },
        "tuningUrgentDays": {
          "name": "tuningUrgentDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 270
        },
        "regulationPendingDays": {
          "name": "regulationPendingDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 730
        },
        "regulationUrgentDays": {
          "name": "regulationUrgentDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1095
        },
        "appointmentsNoticeDays": {
          "name": "appointmentsNoticeDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 7
        },
        "scheduledServicesNoticeDays": {
          "name": "scheduledServicesNoticeDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 7
        },
        "invoicesDueNoticeDays": {
          "name": "invoicesDueNoticeDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 7
        },
        "quotesExpiryNoticeDays": {
          "name": "quotesExpiryNoticeDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 7
        },
        "contractsRenewalNoticeDays": {
          "name": "contractsRenewalNoticeDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 30
        },
        "overduePaymentsNoticeDays": {
          "name": "overduePaymentsNoticeDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 15
        },
        "inventoryMinStock": {
          "name": "inventoryMinStock",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 5
        },
        "inventoryExpiryNoticeDays": {
          "name": "inventoryExpiryNoticeDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 30
        },
        "toolsMaintenanceDays": {
          "name": "toolsMaintenanceDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 180
        },
        "clientFollowupDays": {
          "name": "clientFollowupDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 90
        },
        "clientInactiveMonths": {
          "name": "clientInactiveMonths",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 12
        },
        "emailNotificationsEnabled": {
          "name": "emailNotificationsEnabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "pushNotificationsEnabled": {
          "name": "pushNotificationsEnabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "weeklyDigestEnabled": {
          "name": "weeklyDigestEnabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "weeklyDigestDay": {
          "name": "weeklyDigestDay",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "hasSeenAdvancedConfigTip": {
          "name": "hasSeenAdvancedConfigTip",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "unique_user_config": {
          "name": "unique_user_config",
          "columns": [
            "userId",
            "partnerId"
          ],
          "isUnique": false
        },
        "unique_org_config": {
          "name": "unique_org_config",
          "columns": [
            "organizationId",
            "partnerId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "alert_settings_partnerId_partners_id_fk": {
          "name": "alert_settings_partnerId_partners_id_fk",
          "tableFrom": "alert_settings",
          "tableTo": "partners",
          "columnsFrom": [
            "partnerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "appointments": {
      "name": "appointments",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "odId": {
          "name": "odId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientId": {
          "name": "clientId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "pianoId": {
          "name": "pianoId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "duration": {
          "name": "duration",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 60
        },
        "serviceType": {
          "name": "serviceType",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('scheduled','confirmed','completed','cancelled')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'scheduled'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "businessInfo": {
      "name": "businessInfo",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "odId": {
          "name": "odId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "taxId": {
          "name": "taxId",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "postalCode": {
          "name": "postalCode",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "bankAccount": {
          "name": "bankAccount",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        }
      },
      "indexes": {
        "businessInfo_odId_unique": {
          "name": "businessInfo_odId_unique",
          "columns": [
            "odId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "calendar_connections": {
      "name": "calendar_connections",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "userId": {
          "name": "userId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "provider": {
          "name": "provider",
          "type": "enum('google','microsoft')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "calendarId": {
          "name": "calendarId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "calendarName": {
          "name": "calendarName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "accessToken": {
          "name": "accessToken",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "refreshToken": {
          "name": "refreshToken",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "webhookId": {
          "name": "webhookId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "webhookExpiration": {
          "name": "webhookExpiration",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lastSyncToken": {
          "name": "lastSyncToken",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lastDeltaLink": {
          "name": "lastDeltaLink",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "syncEnabled": {
          "name": "syncEnabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "lastSyncAt": {
          "name": "lastSyncAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_user_provider": {
          "name": "idx_user_provider",
          "columns": [
            "userId",
            "provider"
          ],
          "isUnique": false
        },
        "idx_webhook": {
          "name": "idx_webhook",
          "columns": [
            "webhookId"
          ],
          "isUnique": false
        },
        "idx_sync_enabled": {
          "name": "idx_sync_enabled",
          "columns": [
            "syncEnabled"
          ],
          "isUnique": false
        },
        "idx_webhook_expiration": {
          "name": "idx_webhook_expiration",
          "columns": [
            "webhookExpiration"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "calendar_sync_events": {
      "name": "calendar_sync_events",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "connectionId": {
          "name": "connectionId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "appointmentId": {
          "name": "appointmentId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "externalEventId": {
          "name": "externalEventId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "provider": {
          "name": "provider",
          "type": "enum('google','microsoft')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "syncStatus": {
          "name": "syncStatus",
          "type": "enum('synced','pending','error')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'synced'"
        },
        "lastSyncedAt": {
          "name": "lastSyncedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "errorMessage": {
          "name": "errorMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_connection": {
          "name": "idx_connection",
          "columns": [
            "connectionId"
          ],
          "isUnique": false
        },
        "idx_appointment": {
          "name": "idx_appointment",
          "columns": [
            "appointmentId"
          ],
          "isUnique": false
        },
        "idx_external": {
          "name": "idx_external",
          "columns": [
            "externalEventId",
            "provider"
          ],
          "isUnique": false
        },
        "idx_sync_status": {
          "name": "idx_sync_status",
          "columns": [
            "syncStatus"
          ],
          "isUnique": false
        },
        "unique_appointment_connection": {
          "name": "unique_appointment_connection",
          "columns": [
            "appointmentId",
            "connectionId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "calendar_sync_events_connectionId_calendar_connections_id_fk": {
          "name": "calendar_sync_events_connectionId_calendar_connections_id_fk",
          "tableFrom": "calendar_sync_events",
          "tableTo": "calendar_connections",
          "columnsFrom": [
            "connectionId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "calendar_sync_log": {
      "name": "calendar_sync_log",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "connectionId": {
          "name": "connectionId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "action": {
          "name": "action",
          "type": "enum('create','update','delete')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "direction": {
          "name": "direction",
          "type": "enum('to_external','from_external')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "appointmentId": {
          "name": "appointmentId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "externalEventId": {
          "name": "externalEventId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('success','error')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "errorMessage": {
          "name": "errorMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "details": {
          "name": "details",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        }
      },
      "indexes": {
        "idx_connection_date": {
          "name": "idx_connection_date",
          "columns": [
            "connectionId",
            "createdAt"
          ],
          "isUnique": false
        },
        "idx_status": {
          "name": "idx_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_appointment": {
          "name": "idx_appointment",
          "columns": [
            "appointmentId"
          ],
          "isUnique": false
        },
        "idx_created": {
          "name": "idx_created",
          "columns": [
            "createdAt"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "client_messages": {
      "name": "client_messages",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientId": {
          "name": "clientId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fromUserId": {
          "name": "fromUserId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "fromClientPortalUserId": {
          "name": "fromClientPortalUserId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "isRead": {
          "name": "isRead",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        }
      },
      "indexes": {
        "idx_clientId": {
          "name": "idx_clientId",
          "columns": [
            "clientId"
          ],
          "isUnique": false
        },
        "idx_createdAt": {
          "name": "idx_createdAt",
          "columns": [
            "createdAt"
          ],
          "isUnique": false
        },
        "idx_isRead": {
          "name": "idx_isRead",
          "columns": [
            "isRead"
          ],
          "isUnique": false
        },
        "idx_fromUserId": {
          "name": "idx_fromUserId",
          "columns": [
            "fromUserId"
          ],
          "isUnique": false
        },
        "idx_fromClientPortalUserId": {
          "name": "idx_fromClientPortalUserId",
          "columns": [
            "fromClientPortalUserId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "client_portal_invitations": {
      "name": "client_portal_invitations",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientId": {
          "name": "clientId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "token": {
          "name": "token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "usedAt": {
          "name": "usedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdBy": {
          "name": "createdBy",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        }
      },
      "indexes": {
        "idx_token": {
          "name": "idx_token",
          "columns": [
            "token"
          ],
          "isUnique": false
        },
        "idx_clientId": {
          "name": "idx_clientId",
          "columns": [
            "clientId"
          ],
          "isUnique": false
        },
        "idx_email": {
          "name": "idx_email",
          "columns": [
            "email"
          ],
          "isUnique": false
        },
        "idx_expiresAt": {
          "name": "idx_expiresAt",
          "columns": [
            "expiresAt"
          ],
          "isUnique": false
        },
        "token": {
          "name": "token",
          "columns": [
            "token"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "client_portal_password_resets": {
      "name": "client_portal_password_resets",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientPortalUserId": {
          "name": "clientPortalUserId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "token": {
          "name": "token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "usedAt": {
          "name": "usedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        }
      },
      "indexes": {
        "idx_token": {
          "name": "idx_token",
          "columns": [
            "token"
          ],
          "isUnique": false
        },
        "idx_clientPortalUserId": {
          "name": "idx_clientPortalUserId",
          "columns": [
            "clientPortalUserId"
          ],
          "isUnique": false
        },
        "idx_expiresAt": {
          "name": "idx_expiresAt",
          "columns": [
            "expiresAt"
          ],
          "isUnique": false
        },
        "token": {
          "name": "token",
          "columns": [
            "token"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "client_portal_sessions": {
      "name": "client_portal_sessions",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientPortalUserId": {
          "name": "clientPortalUserId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "token": {
          "name": "token",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        }
      },
      "indexes": {
        "idx_token": {
          "name": "idx_token",
          "columns": [
            "token"
          ],
          "isUnique": false
        },
        "idx_expiresAt": {
          "name": "idx_expiresAt",
          "columns": [
            "expiresAt"
          ],
          "isUnique": false
        },
        "idx_clientPortalUserId": {
          "name": "idx_clientPortalUserId",
          "columns": [
            "clientPortalUserId"
          ],
          "isUnique": false
        },
        "token": {
          "name": "token",
          "columns": [
            "token"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "client_portal_users": {
      "name": "client_portal_users",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientId": {
          "name": "clientId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "passwordHash": {
          "name": "passwordHash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "isActive": {
          "name": "isActive",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "lastLoginAt": {
          "name": "lastLoginAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_clientId": {
          "name": "idx_clientId",
          "columns": [
            "clientId"
          ],
          "isUnique": false
        },
        "idx_email": {
          "name": "idx_email",
          "columns": [
            "email"
          ],
          "isUnique": false
        },
        "idx_isActive": {
          "name": "idx_isActive",
          "columns": [
            "isActive"
          ],
          "isUnique": false
        },
        "email": {
          "name": "email",
          "columns": [
            "email"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "clients": {
      "name": "clients",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "odId": {
          "name": "odId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "clientType": {
          "name": "clientType",
          "type": "enum('particular','student','professional','music_school','conservatory','concert_hall')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'particular'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "region": {
          "name": "region",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "postalCode": {
          "name": "postalCode",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "latitude": {
          "name": "latitude",
          "type": "decimal(10,7)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "longitude": {
          "name": "longitude",
          "type": "decimal(10,7)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "routeGroup": {
          "name": "routeGroup",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "distributor_module_config": {
      "name": "distributor_module_config",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "distributor_id": {
          "name": "distributor_id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "suppliers_enabled": {
          "name": "suppliers_enabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "inventory_enabled": {
          "name": "inventory_enabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "invoicing_enabled": {
          "name": "invoicing_enabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "advanced_invoicing_enabled": {
          "name": "advanced_invoicing_enabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "accounting_enabled": {
          "name": "accounting_enabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "team_enabled": {
          "name": "team_enabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "crm_enabled": {
          "name": "crm_enabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "reports_enabled": {
          "name": "reports_enabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "shop_enabled": {
          "name": "shop_enabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "show_prices": {
          "name": "show_prices",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "allow_direct_orders": {
          "name": "allow_direct_orders",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "show_stock": {
          "name": "show_stock",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "stock_alerts_enabled": {
          "name": "stock_alerts_enabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "custom_branding": {
          "name": "custom_branding",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "hide_competitor_links": {
          "name": "hide_competitor_links",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(CURRENT_TIMESTAMP)"
        }
      },
      "indexes": {
        "module_config_distributor_id_idx": {
          "name": "module_config_distributor_id_idx",
          "columns": [
            "distributor_id"
          ],
          "isUnique": false
        },
        "distributor_id": {
          "name": "distributor_id",
          "columns": [
            "distributor_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "help_items": {
      "name": "help_items",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "section_id": {
          "name": "section_id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "question": {
          "name": "question",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "answer": {
          "name": "answer",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "display_order": {
          "name": "display_order",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "help_items_section_id_help_sections_id_fk": {
          "name": "help_items_section_id_help_sections_id_fk",
          "tableFrom": "help_items",
          "tableTo": "help_sections",
          "columnsFrom": [
            "section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "help_sections": {
      "name": "help_sections",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "icon": {
          "name": "icon",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "display_order": {
          "name": "display_order",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "inventory": {
      "name": "inventory",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "odId": {
          "name": "odId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "enum('strings','hammers','dampers','keys','action_parts','pedals','tuning_pins','felts','tools','chemicals','other')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "quantity": {
          "name": "quantity",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'0'"
        },
        "unit": {
          "name": "unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'unidad'"
        },
        "minStock": {
          "name": "minStock",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'0'"
        },
        "costPerUnit": {
          "name": "costPerUnit",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "supplier": {
          "name": "supplier",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "invitations": {
      "name": "invitations",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "invited_by": {
          "name": "invited_by",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "token": {
          "name": "token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "used": {
          "name": "used",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "email_used_idx": {
          "name": "email_used_idx",
          "columns": [
            "email",
            "used"
          ],
          "isUnique": false
        },
        "token_idx": {
          "name": "token_idx",
          "columns": [
            "token"
          ],
          "isUnique": false
        },
        "expires_at_idx": {
          "name": "expires_at_idx",
          "columns": [
            "expires_at"
          ],
          "isUnique": false
        },
        "token": {
          "name": "token",
          "columns": [
            "token"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "invoices": {
      "name": "invoices",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "odId": {
          "name": "odId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "invoiceNumber": {
          "name": "invoiceNumber",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientId": {
          "name": "clientId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientName": {
          "name": "clientName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientEmail": {
          "name": "clientEmail",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "clientAddress": {
          "name": "clientAddress",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "dueDate": {
          "name": "dueDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('draft','sent','paid','cancelled')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'draft'"
        },
        "items": {
          "name": "items",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "subtotal": {
          "name": "subtotal",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "taxAmount": {
          "name": "taxAmount",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "total": {
          "name": "total",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "businessInfo": {
          "name": "businessInfo",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "license_batches": {
      "name": "license_batches",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "batch_code": {
          "name": "batch_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "distributor_id": {
          "name": "distributor_id",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "template_id": {
          "name": "template_id",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "total_licenses": {
          "name": "total_licenses",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "activated_licenses": {
          "name": "activated_licenses",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "license_type": {
          "name": "license_type",
          "type": "enum('trial','free','starter','professional','enterprise')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "module_config": {
          "name": "module_config",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "duration_days": {
          "name": "duration_days",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_by_admin_id": {
          "name": "created_by_admin_id",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        }
      },
      "indexes": {
        "license_batches_code_idx": {
          "name": "license_batches_code_idx",
          "columns": [
            "batch_code"
          ],
          "isUnique": false
        },
        "license_batches_distributor_idx": {
          "name": "license_batches_distributor_idx",
          "columns": [
            "distributor_id"
          ],
          "isUnique": false
        },
        "batch_code": {
          "name": "batch_code",
          "columns": [
            "batch_code"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "license_history": {
      "name": "license_history",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "license_id": {
          "name": "license_id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "action": {
          "name": "action",
          "type": "enum('created','activated','deactivated','expired','revoked','suspended','reactivated','transferred','config_changed')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "previous_status": {
          "name": "previous_status",
          "type": "enum('available','active','expired','revoked','suspended')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "new_status": {
          "name": "new_status",
          "type": "enum('available','active','expired','revoked','suspended')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "performed_by_admin_id": {
          "name": "performed_by_admin_id",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "performed_by_user_id": {
          "name": "performed_by_user_id",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "details": {
          "name": "details",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        }
      },
      "indexes": {
        "license_history_license_idx": {
          "name": "license_history_license_idx",
          "columns": [
            "license_id"
          ],
          "isUnique": false
        },
        "license_history_action_idx": {
          "name": "license_history_action_idx",
          "columns": [
            "action"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "license_templates": {
      "name": "license_templates",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "license_type": {
          "name": "license_type",
          "type": "enum('trial','free','pro','premium')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "duration_days": {
          "name": "duration_days",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "module_config": {
          "name": "module_config",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "max_users": {
          "name": "max_users",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "max_clients": {
          "name": "max_clients",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "max_pianos": {
          "name": "max_pianos",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_active": {
          "name": "is_active",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(CURRENT_TIMESTAMP)"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "licenses": {
      "name": "licenses",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "code": {
          "name": "code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "license_type": {
          "name": "license_type",
          "type": "enum('trial','free','pro','premium')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('available','active','expired','revoked','suspended')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'available'"
        },
        "distributor_id": {
          "name": "distributor_id",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "template_id": {
          "name": "template_id",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "activated_by_user_id": {
          "name": "activated_by_user_id",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "activated_at": {
          "name": "activated_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "module_config": {
          "name": "module_config",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "max_users": {
          "name": "max_users",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "max_clients": {
          "name": "max_clients",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "max_pianos": {
          "name": "max_pianos",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "datetime",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "datetime",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_by_admin_id": {
          "name": "created_by_admin_id",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(CURRENT_TIMESTAMP)"
        }
      },
      "indexes": {
        "licenses_code_idx": {
          "name": "licenses_code_idx",
          "columns": [
            "code"
          ],
          "isUnique": false
        },
        "licenses_status_idx": {
          "name": "licenses_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "licenses_distributor_idx": {
          "name": "licenses_distributor_idx",
          "columns": [
            "distributor_id"
          ],
          "isUnique": false
        },
        "licenses_activated_by_idx": {
          "name": "licenses_activated_by_idx",
          "columns": [
            "activated_by_user_id"
          ],
          "isUnique": false
        },
        "code": {
          "name": "code",
          "columns": [
            "code"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "member_absences": {
      "name": "member_absences",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "memberId": {
          "name": "memberId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "absenceType": {
          "name": "absenceType",
          "type": "enum('vacation','sick_leave','personal','training','public_holiday','other')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "startDate": {
          "name": "startDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "endDate": {
          "name": "endDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "isFullDay": {
          "name": "isFullDay",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "startTime": {
          "name": "startTime",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "endTime": {
          "name": "endTime",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('pending','approved','rejected')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending'"
        },
        "approvedBy": {
          "name": "approvedBy",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "approvedAt": {
          "name": "approvedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rejectionReason": {
          "name": "rejectionReason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "ma_member_idx": {
          "name": "ma_member_idx",
          "columns": [
            "memberId"
          ],
          "isUnique": false
        },
        "ma_date_idx": {
          "name": "ma_date_idx",
          "columns": [
            "startDate",
            "endDate"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "modules": {
      "name": "modules",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "code": {
          "name": "code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "icon": {
          "name": "icon",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "color": {
          "name": "color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "enum('free','professional','premium')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "includedInPlans": {
          "name": "includedInPlans",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "('[]')"
        },
        "addonPrice": {
          "name": "addonPrice",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "addonPriceCurrency": {
          "name": "addonPriceCurrency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'EUR'"
        },
        "dependencies": {
          "name": "dependencies",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "('[]')"
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "sortOrder": {
          "name": "sortOrder",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "version": {
          "name": "version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "releaseNotes": {
          "name": "releaseNotes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "modules_id": {
          "name": "modules_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "modules_code_unique": {
          "name": "modules_code_unique",
          "columns": [
            "code"
          ]
        }
      },
      "checkConstraint": {}
    },
    "organization_activity_log": {
      "name": "organization_activity_log",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "activityType": {
          "name": "activityType",
          "type": "enum('member_invited','member_joined','member_removed','member_role_changed','member_suspended','work_assigned','work_reassigned','work_completed','settings_changed','subscription_changed','invoice_created','client_created','service_completed')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "entityType": {
          "name": "entityType",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "entityId": {
          "name": "entityId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ipAddress": {
          "name": "ipAddress",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "userAgent": {
          "name": "userAgent",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        }
      },
      "indexes": {
        "al_org_idx": {
          "name": "al_org_idx",
          "columns": [
            "organizationId"
          ],
          "isUnique": false
        },
        "al_user_idx": {
          "name": "al_user_idx",
          "columns": [
            "userId"
          ],
          "isUnique": false
        },
        "al_type_idx": {
          "name": "al_type_idx",
          "columns": [
            "activityType"
          ],
          "isUnique": false
        },
        "al_date_idx": {
          "name": "al_date_idx",
          "columns": [
            "createdAt"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "organization_invitations": {
      "name": "organization_invitations",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organizationRole": {
          "name": "organizationRole",
          "type": "enum('owner','admin','manager','senior_tech','technician','apprentice','receptionist','accountant','viewer')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'technician'"
        },
        "token": {
          "name": "token",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "invitedBy": {
          "name": "invitedBy",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "acceptedAt": {
          "name": "acceptedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "acceptedByUserId": {
          "name": "acceptedByUserId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "declinedAt": {
          "name": "declinedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        }
      },
      "indexes": {
        "organization_invitations_token_unique": {
          "name": "organization_invitations_token_unique",
          "columns": [
            "token"
          ],
          "isUnique": false
        },
        "token_idx": {
          "name": "token_idx",
          "columns": [
            "token"
          ],
          "isUnique": false
        },
        "email_org_idx": {
          "name": "email_org_idx",
          "columns": [
            "email",
            "organizationId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "organization_members": {
      "name": "organization_members",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organizationRole": {
          "name": "organizationRole",
          "type": "enum('owner','admin','manager','senior_tech','technician','apprentice','receptionist','accountant','viewer')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'technician'"
        },
        "membershipStatus": {
          "name": "membershipStatus",
          "type": "enum('active','pending_invitation','suspended','inactive')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending_invitation'"
        },
        "displayName": {
          "name": "displayName",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "jobTitle": {
          "name": "jobTitle",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "employeeId": {
          "name": "employeeId",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "color": {
          "name": "color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "canBeAssigned": {
          "name": "canBeAssigned",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "maxDailyAppointments": {
          "name": "maxDailyAppointments",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 8
        },
        "workingHoursStart": {
          "name": "workingHoursStart",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "workingHoursEnd": {
          "name": "workingHoursEnd",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "workingDays": {
          "name": "workingDays",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "assignedZones": {
          "name": "assignedZones",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "specialties": {
          "name": "specialties",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "invitedAt": {
          "name": "invitedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "invitedBy": {
          "name": "invitedBy",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "joinedAt": {
          "name": "joinedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lastActiveAt": {
          "name": "lastActiveAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "suspendedAt": {
          "name": "suspendedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "suspendedReason": {
          "name": "suspendedReason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "org_user_idx": {
          "name": "org_user_idx",
          "columns": [
            "organizationId",
            "userId"
          ],
          "isUnique": false
        },
        "org_idx": {
          "name": "org_idx",
          "columns": [
            "organizationId"
          ],
          "isUnique": false
        },
        "user_idx": {
          "name": "user_idx",
          "columns": [
            "userId"
          ],
          "isUnique": false
        },
        "status_idx": {
          "name": "status_idx",
          "columns": [
            "membershipStatus"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "organization_modules": {
      "name": "organization_modules",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "moduleCode": {
          "name": "moduleCode",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "isEnabled": {
          "name": "isEnabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "accessType": {
          "name": "accessType",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "purchasedAt": {
          "name": "purchasedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "settings": {
          "name": "settings",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "org_modules_idx": {
          "name": "org_modules_idx",
          "columns": [
            "organizationId",
            "moduleCode"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "organization_modules_id": {
          "name": "organization_modules_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "organization_sharing_settings": {
      "name": "organization_sharing_settings",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "resource": {
          "name": "resource",
          "type": "enum('clients','pianos','services','appointments','inventory','invoices','quotes','reminders')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "sharingModel": {
          "name": "sharingModel",
          "type": "enum('private','shared_read','shared_write')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'private'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "org_resource_idx": {
          "name": "org_resource_idx",
          "columns": [
            "organizationId",
            "resource"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "organizations": {
      "name": "organizations",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "logo": {
          "name": "logo",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ownerId": {
          "name": "ownerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "subscriptionPlan": {
          "name": "subscriptionPlan",
          "type": "enum('free','starter','team','business','enterprise')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'free'"
        },
        "maxMembers": {
          "name": "maxMembers",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "subscriptionExpiresAt": {
          "name": "subscriptionExpiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "taxId": {
          "name": "taxId",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "legalName": {
          "name": "legalName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "postalCode": {
          "name": "postalCode",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "country": {
          "name": "country",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'ES'"
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "website": {
          "name": "website",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "bankAccount": {
          "name": "bankAccount",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "bankName": {
          "name": "bankName",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "swiftBic": {
          "name": "swiftBic",
          "type": "varchar(11)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "invoicePrefix": {
          "name": "invoicePrefix",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'FAC'"
        },
        "invoiceNextNumber": {
          "name": "invoiceNextNumber",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "defaultTaxRate": {
          "name": "defaultTaxRate",
          "type": "decimal(5,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'21.00'"
        },
        "defaultCurrency": {
          "name": "defaultCurrency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'EUR'"
        },
        "defaultServiceDuration": {
          "name": "defaultServiceDuration",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 60
        },
        "workingHoursStart": {
          "name": "workingHoursStart",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'09:00'"
        },
        "workingHoursEnd": {
          "name": "workingHoursEnd",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'18:00'"
        },
        "workingDays": {
          "name": "workingDays",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'Europe/Madrid'"
        },
        "notifyOnNewAppointment": {
          "name": "notifyOnNewAppointment",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "notifyOnAssignment": {
          "name": "notifyOnAssignment",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "notifyOnCompletion": {
          "name": "notifyOnCompletion",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "isActive": {
          "name": "isActive",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "organizations_slug_unique": {
          "name": "organizations_slug_unique",
          "columns": [
            "slug"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "partner_pricing": {
      "name": "partner_pricing",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "planCode": {
          "name": "planCode",
          "type": "enum('free','professional','premium')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "monthlyPrice": {
          "name": "monthlyPrice",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "yearlyPrice": {
          "name": "yearlyPrice",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "minMonthlyRevenue": {
          "name": "minMonthlyRevenue",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "discountPercentage": {
          "name": "discountPercentage",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "customFeatures": {
          "name": "customFeatures",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "partner_pricing_partnerId_partners_id_fk": {
          "name": "partner_pricing_partnerId_partners_id_fk",
          "tableFrom": "partner_pricing",
          "tableTo": "partners",
          "columnsFrom": [
            "partnerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "partner_settings": {
      "name": "partner_settings",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ecommerceEnabled": {
          "name": "ecommerceEnabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "ecommerceApiUrl": {
          "name": "ecommerceApiUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ecommerceApiKey": {
          "name": "ecommerceApiKey",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "autoOrderEnabled": {
          "name": "autoOrderEnabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "autoOrderThreshold": {
          "name": "autoOrderThreshold",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 5
        },
        "notificationEmail": {
          "name": "notificationEmail",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notificationWebhook": {
          "name": "notificationWebhook",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "maxUsers": {
          "name": "maxUsers",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "maxOrganizations": {
          "name": "maxOrganizations",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "supportedLanguages": {
          "name": "supportedLanguages",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "alertPianoTuning": {
          "name": "alertPianoTuning",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "alertPianoRegulation": {
          "name": "alertPianoRegulation",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "alertPianoMaintenance": {
          "name": "alertPianoMaintenance",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "alertQuotesPending": {
          "name": "alertQuotesPending",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "alertQuotesExpiring": {
          "name": "alertQuotesExpiring",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "alertInvoicesPending": {
          "name": "alertInvoicesPending",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "alertInvoicesOverdue": {
          "name": "alertInvoicesOverdue",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "alertUpcomingAppointments": {
          "name": "alertUpcomingAppointments",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "alertUnconfirmedAppointments": {
          "name": "alertUnconfirmedAppointments",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "alertFrequency": {
          "name": "alertFrequency",
          "type": "enum('realtime','daily','weekly')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'realtime'"
        },
        "pushNotifications": {
          "name": "pushNotifications",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "emailNotifications": {
          "name": "emailNotifications",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "calendarSync": {
          "name": "calendarSync",
          "type": "enum('none','google','outlook')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'none'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "partner_settings_partnerId_unique": {
          "name": "partner_settings_partnerId_unique",
          "columns": [
            "partnerId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "partner_settings_partnerId_partners_id_fk": {
          "name": "partner_settings_partnerId_partners_id_fk",
          "tableFrom": "partner_settings",
          "tableTo": "partners",
          "columnsFrom": [
            "partnerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "partner_users": {
      "name": "partner_users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('owner','admin','manager')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'manager'"
        },
        "canManageBranding": {
          "name": "canManageBranding",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "canManagePricing": {
          "name": "canManagePricing",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "canManageUsers": {
          "name": "canManageUsers",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "canViewAnalytics": {
          "name": "canViewAnalytics",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "partner_users_partnerId_partners_id_fk": {
          "name": "partner_users_partnerId_partners_id_fk",
          "tableFrom": "partner_users",
          "tableTo": "partners",
          "columnsFrom": [
            "partnerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "partner_users_userId_users_id_fk": {
          "name": "partner_users_userId_users_id_fk",
          "tableFrom": "partner_users",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "partners": {
      "name": "partners",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "customDomain": {
          "name": "customDomain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "logo": {
          "name": "logo",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "primaryColor": {
          "name": "primaryColor",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'#3b82f6'"
        },
        "secondaryColor": {
          "name": "secondaryColor",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'#10b981'"
        },
        "brandName": {
          "name": "brandName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('active','suspended','inactive')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "allowMultipleSuppliers": {
          "name": "allowMultipleSuppliers",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "defaultLanguage": {
          "name": "defaultLanguage",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'es'"
        },
        "supportEmail": {
          "name": "supportEmail",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "supportPhone": {
          "name": "supportPhone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "legalName": {
          "name": "legalName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "businessName": {
          "name": "businessName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "taxId": {
          "name": "taxId",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "addressStreet": {
          "name": "addressStreet",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "addressPostalCode": {
          "name": "addressPostalCode",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "addressCity": {
          "name": "addressCity",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "addressProvince": {
          "name": "addressProvince",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "iban": {
          "name": "iban",
          "type": "varchar(34)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "bankName": {
          "name": "bankName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "businessMode": {
          "name": "businessMode",
          "type": "enum('individual','team')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'individual'"
        },
        "emailClientPreference": {
          "name": "emailClientPreference",
          "type": "enum('gmail','outlook','default')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'gmail'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "partners_slug_unique": {
          "name": "partners_slug_unique",
          "columns": [
            "slug"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "pianos": {
      "name": "pianos",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "odId": {
          "name": "odId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientId": {
          "name": "clientId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "brand": {
          "name": "brand",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "serialNumber": {
          "name": "serialNumber",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "year": {
          "name": "year",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "enum('vertical','grand')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'vertical'"
        },
        "pianoType": {
          "name": "pianoType",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "condition": {
          "name": "condition",
          "type": "enum('excellent','good','fair','poor','needs_repair')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'good'"
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "photos": {
          "name": "photos",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tuningIntervalDays": {
          "name": "tuningIntervalDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 180
        },
        "regulationIntervalDays": {
          "name": "regulationIntervalDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 730
        },
        "alertsEnabled": {
          "name": "alertsEnabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "customThresholdsEnabled": {
          "name": "customThresholdsEnabled",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "platform_admins": {
      "name": "platform_admins",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "user_id": {
          "name": "user_id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('super_admin','admin','support')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'admin'"
        },
        "permissions": {
          "name": "permissions",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_active": {
          "name": "is_active",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(CURRENT_TIMESTAMP)"
        }
      },
      "indexes": {
        "platform_admins_user_id_idx": {
          "name": "platform_admins_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "user_id": {
          "name": "user_id",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "quoteTemplates": {
      "name": "quoteTemplates",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "odId": {
          "name": "odId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "enum('tuning','repair','restoration','maintenance','moving','evaluation','custom')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'custom'"
        },
        "items": {
          "name": "items",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isDefault": {
          "name": "isDefault",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "quotes": {
      "name": "quotes",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "odId": {
          "name": "odId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "quoteNumber": {
          "name": "quoteNumber",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientId": {
          "name": "clientId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientName": {
          "name": "clientName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientEmail": {
          "name": "clientEmail",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "clientAddress": {
          "name": "clientAddress",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pianoId": {
          "name": "pianoId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pianoDescription": {
          "name": "pianoDescription",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "validUntil": {
          "name": "validUntil",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('draft','sent','accepted','rejected','expired','converted')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'draft'"
        },
        "items": {
          "name": "items",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "subtotal": {
          "name": "subtotal",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "totalDiscount": {
          "name": "totalDiscount",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'0'"
        },
        "taxAmount": {
          "name": "taxAmount",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "total": {
          "name": "total",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'EUR'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "termsAndConditions": {
          "name": "termsAndConditions",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sentAt": {
          "name": "sentAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "acceptedAt": {
          "name": "acceptedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rejectedAt": {
          "name": "rejectedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "convertedToInvoiceId": {
          "name": "convertedToInvoiceId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "businessInfo": {
          "name": "businessInfo",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "reminders": {
      "name": "reminders",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "odId": {
          "name": "odId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientId": {
          "name": "clientId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "pianoId": {
          "name": "pianoId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reminderType": {
          "name": "reminderType",
          "type": "enum('call','visit','email','whatsapp','follow_up')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "dueDate": {
          "name": "dueDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isCompleted": {
          "name": "isCompleted",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "completedAt": {
          "name": "completedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "serviceRates": {
      "name": "serviceRates",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "odId": {
          "name": "odId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "enum('tuning','maintenance','regulation','repair','restoration','inspection','other')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "basePrice": {
          "name": "basePrice",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "taxRate": {
          "name": "taxRate",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 21
        },
        "estimatedDuration": {
          "name": "estimatedDuration",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isActive": {
          "name": "isActive",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "service_tasks": {
      "name": "service_tasks",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "serviceTypeId": {
          "name": "serviceTypeId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "orderIndex": {
          "name": "orderIndex",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "service_tasks_type_idx": {
          "name": "service_tasks_type_idx",
          "columns": [
            "serviceTypeId"
          ],
          "isUnique": false
        },
        "service_tasks_order_idx": {
          "name": "service_tasks_order_idx",
          "columns": [
            "serviceTypeId",
            "orderIndex"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "service_tasks_serviceTypeId_service_types_id_fk": {
          "name": "service_tasks_serviceTypeId_service_types_id_fk",
          "tableFrom": "service_tasks",
          "tableTo": "service_types",
          "columnsFrom": [
            "serviceTypeId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "service_types": {
      "name": "service_types",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "price": {
          "name": "price",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "duration": {
          "name": "duration",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "isActive": {
          "name": "isActive",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "service_types_partner_idx": {
          "name": "service_types_partner_idx",
          "columns": [
            "partnerId"
          ],
          "isUnique": false
        },
        "service_types_active_idx": {
          "name": "service_types_active_idx",
          "columns": [
            "isActive"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "service_types_partnerId_partners_id_fk": {
          "name": "service_types_partnerId_partners_id_fk",
          "tableFrom": "service_types",
          "tableTo": "partners",
          "columnsFrom": [
            "partnerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "service_zones": {
      "name": "service_zones",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "color": {
          "name": "color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "postalCodes": {
          "name": "postalCodes",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cities": {
          "name": "cities",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "geoJson": {
          "name": "geoJson",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isActive": {
          "name": "isActive",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "surchargePercent": {
          "name": "surchargePercent",
          "type": "decimal(5,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0'"
        },
        "estimatedTravelTime": {
          "name": "estimatedTravelTime",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "sz_org_idx": {
          "name": "sz_org_idx",
          "columns": [
            "organizationId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "services": {
      "name": "services",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "odId": {
          "name": "odId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "pianoId": {
          "name": "pianoId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "clientId": {
          "name": "clientId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "serviceType": {
          "name": "serviceType",
          "type": "enum('tuning','repair','regulation','maintenance_basic','maintenance_complete','maintenance_premium','inspection','restoration','other')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "cost": {
          "name": "cost",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "duration": {
          "name": "duration",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tasks": {
          "name": "tasks",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "technicianNotes": {
          "name": "technicianNotes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "materialsUsed": {
          "name": "materialsUsed",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "photosBefore": {
          "name": "photosBefore",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "photosAfter": {
          "name": "photosAfter",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "clientSignature": {
          "name": "clientSignature",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "humidity": {
          "name": "humidity",
          "type": "decimal(5,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "temperature": {
          "name": "temperature",
          "type": "decimal(5,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "subscription_plans": {
      "name": "subscription_plans",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "code": {
          "name": "code",
          "type": "enum('free','professional','premium')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "monthlyPrice": {
          "name": "monthlyPrice",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "yearlyPrice": {
          "name": "yearlyPrice",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'EUR'"
        },
        "maxUsers": {
          "name": "maxUsers",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "maxClients": {
          "name": "maxClients",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "maxPianos": {
          "name": "maxPianos",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "maxInvoicesPerMonth": {
          "name": "maxInvoicesPerMonth",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "maxStorageMb": {
          "name": "maxStorageMb",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "features": {
          "name": "features",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "('[]')"
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "isPopular": {
          "name": "isPopular",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "trialDays": {
          "name": "trialDays",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 14
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "subscription_plans_id": {
          "name": "subscription_plans_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "subscription_plans_code_unique": {
          "name": "subscription_plans_code_unique",
          "columns": [
            "code"
          ]
        }
      },
      "checkConstraint": {}
    },
    "technician_metrics": {
      "name": "technician_metrics",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "memberId": {
          "name": "memberId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "appointmentsScheduled": {
          "name": "appointmentsScheduled",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "appointmentsCompleted": {
          "name": "appointmentsCompleted",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "appointmentsCancelled": {
          "name": "appointmentsCancelled",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "servicesCompleted": {
          "name": "servicesCompleted",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "totalWorkMinutes": {
          "name": "totalWorkMinutes",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "totalTravelMinutes": {
          "name": "totalTravelMinutes",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "averageServiceDuration": {
          "name": "averageServiceDuration",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "totalRevenue": {
          "name": "totalRevenue",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0'"
        },
        "totalMaterialsCost": {
          "name": "totalMaterialsCost",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0'"
        },
        "averageRating": {
          "name": "averageRating",
          "type": "decimal(3,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ratingsCount": {
          "name": "ratingsCount",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "complaintsCount": {
          "name": "complaintsCount",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "onTimeArrivals": {
          "name": "onTimeArrivals",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "lateArrivals": {
          "name": "lateArrivals",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "tm_member_date_idx": {
          "name": "tm_member_date_idx",
          "columns": [
            "memberId",
            "date"
          ],
          "isUnique": false
        },
        "tm_org_date_idx": {
          "name": "tm_org_date_idx",
          "columns": [
            "organizationId",
            "date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "technician_zones": {
      "name": "technician_zones",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "memberId": {
          "name": "memberId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "zoneId": {
          "name": "zoneId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "isPrimary": {
          "name": "isPrimary",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        }
      },
      "indexes": {
        "member_zone_idx": {
          "name": "member_zone_idx",
          "columns": [
            "memberId",
            "zoneId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "openId": {
          "name": "openId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "loginMethod": {
          "name": "loginMethod",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('user','admin')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'user'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "stripeCustomerId": {
          "name": "stripeCustomerId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "subscriptionPlan": {
          "name": "subscriptionPlan",
          "type": "enum('free','pro','premium')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'free'"
        },
        "subscriptionStatus": {
          "name": "subscriptionStatus",
          "type": "enum('active','canceled','past_due','trialing','none')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'none'"
        },
        "subscriptionId": {
          "name": "subscriptionId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "subscriptionEndDate": {
          "name": "subscriptionEndDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "partnerId": {
          "name": "partnerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "preferredLanguage": {
          "name": "preferredLanguage",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "smtpHost": {
          "name": "smtpHost",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "smtpPort": {
          "name": "smtpPort",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 587
        },
        "smtpUser": {
          "name": "smtpUser",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "smtpPassword": {
          "name": "smtpPassword",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "smtpSecure": {
          "name": "smtpSecure",
          "type": "tinyint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "smtpFromName": {
          "name": "smtpFromName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_openId_unique": {
          "name": "users_openId_unique",
          "columns": [
            "openId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "work_assignments": {
      "name": "work_assignments",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "appointmentId": {
          "name": "appointmentId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "serviceId": {
          "name": "serviceId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "technicianId": {
          "name": "technicianId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "workAssignmentStatus": {
          "name": "workAssignmentStatus",
          "type": "enum('unassigned','assigned','accepted','in_progress','completed','cancelled','reassigned')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'assigned'"
        },
        "workPriority": {
          "name": "workPriority",
          "type": "enum('low','normal','high','urgent')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'normal'"
        },
        "scheduledDate": {
          "name": "scheduledDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "scheduledStartTime": {
          "name": "scheduledStartTime",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "scheduledEndTime": {
          "name": "scheduledEndTime",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "estimatedDuration": {
          "name": "estimatedDuration",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "actualStartTime": {
          "name": "actualStartTime",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "actualEndTime": {
          "name": "actualEndTime",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "assignedBy": {
          "name": "assignedBy",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "assignedAt": {
          "name": "assignedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "acceptedAt": {
          "name": "acceptedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rejectedAt": {
          "name": "rejectedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rejectionReason": {
          "name": "rejectionReason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "previousTechnicianId": {
          "name": "previousTechnicianId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reassignedAt": {
          "name": "reassignedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reassignmentReason": {
          "name": "reassignmentReason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "assignmentNotes": {
          "name": "assignmentNotes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "technicianNotes": {
          "name": "technicianNotes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "latitude": {
          "name": "latitude",
          "type": "decimal(10,8)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "longitude": {
          "name": "longitude",
          "type": "decimal(11,8)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CURRENT_TIMESTAMP'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "wa_org_idx": {
          "name": "wa_org_idx",
          "columns": [
            "organizationId"
          ],
          "isUnique": false
        },
        "wa_tech_idx": {
          "name": "wa_tech_idx",
          "columns": [
            "technicianId"
          ],
          "isUnique": false
        },
        "wa_date_idx": {
          "name": "wa_date_idx",
          "columns": [
            "scheduledDate"
          ],
          "isUnique": false
        },
        "wa_status_idx": {
          "name": "wa_status_idx",
          "columns": [
            "workAssignmentStatus"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "resource_usage": {
      "name": "resource_usage",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "periodStart": {
          "name": "periodStart",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "periodEnd": {
          "name": "periodEnd",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "usersCount": {
          "name": "usersCount",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "clientsCount": {
          "name": "clientsCount",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "pianosCount": {
          "name": "pianosCount",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "invoicesCount": {
          "name": "invoicesCount",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "storageMb": {
          "name": "storageMb",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "resource_usage_org_period_idx": {
          "name": "resource_usage_org_period_idx",
          "columns": [
            "organizationId",
            "periodStart"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "resource_usage_id": {
          "name": "resource_usage_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "subscription_history": {
      "name": "subscription_history",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "subscriptionId": {
          "name": "subscriptionId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "action": {
          "name": "action",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fromPlan": {
          "name": "fromPlan",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "toPlan": {
          "name": "toPlan",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "details": {
          "name": "details",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "changedBy": {
          "name": "changedBy",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "subscription_history_id": {
          "name": "subscription_history_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "subscriptions": {
      "name": "subscriptions",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "planCode": {
          "name": "planCode",
          "type": "enum('free','professional','premium')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('active','trial','past_due','cancelled','expired')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'trial'"
        },
        "startDate": {
          "name": "startDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "endDate": {
          "name": "endDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "trialEndDate": {
          "name": "trialEndDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cancelledAt": {
          "name": "cancelledAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "billingCycle": {
          "name": "billingCycle",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "nextBillingDate": {
          "name": "nextBillingDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "paymentProvider": {
          "name": "paymentProvider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "externalSubscriptionId": {
          "name": "externalSubscriptionId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "subscriptions_org_idx": {
          "name": "subscriptions_org_idx",
          "columns": [
            "organizationId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "subscriptions_id": {
          "name": "subscriptions_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}